

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Les vues avec Twig &mdash; documentation Symfony 1.0.1</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
  

  
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
    <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <link rel="top" title="documentation Symfony 1.0.1" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

        
            
              <a href="../index.html"> Symfony
            
        
        </a>

        
          <div class="subtitle">
            Cours
          </div>
        

        
          <div class="reference">
            EPSI/B2

            
            - v1.0.1
            
          </div>
        
          
        </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption"><span class="caption-text">Rappels</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rappels/introduction.html">Programmation en PHP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rappels/usages.html">Que peut faire PHP ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rappels/syntaxe.html">La syntaxe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rappels/fonctions.html">Les fonctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rappels/poo.html">La programmation orientée objet</a></li>
</ul>
<p class="caption"><span class="caption-text">Cours</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cours/introduction.html">Introduction à Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cours/navigateur_vers_symfony.html">Du navigateur vers Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cours/architecture.html">Architecture de Symfony</a></li>
</ul>
<p class="caption"><span class="caption-text">tp</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tp/sujet.html">Sujet du TP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tp/installation-php.html">Installation et configuration de PHP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tp/installation-symfony.html">Installation de Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tp/bundle.html">Création du bundle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tp/controleur.html">Créer une page sous Symfony</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tp/web_profiler.html">Le web-profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tp/routing.html">Les routes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tp/assets.html">Les assets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tp/entite.html">Les entités</a></li>
</ul>
<p class="caption"><span class="caption-text">Aide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../aide/console.html">Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aide/controller.html">Contrôlleur</a></li>
</ul>

          
        


          

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Symfony</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Les vues avec Twig</li>
    <li class="wy-breadcrumbs-aside">
      
        

      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="les-vues-avec-twig">
<span id="twig"></span><h1>Les vues avec Twig<a class="headerlink" href="#les-vues-avec-twig" title="Lien permanent vers ce titre">¶</a></h1>
<p>Symfony utilise le moteur de templating Twig pour aider au rendu des pages. Il présente plusieurs avantages :</p>
<ul class="simple">
<li>il compile les templates en code PHP optimisé</li>
<li>il possède toutes les structures de contrôle classiques</li>
<li>la syntaxe qu&#8217;il propose est compacte et souvent plus rapide à taper</li>
<li>il propose nativement un grand nombre de méthodes et de filtres</li>
<li>il propose un système avancé de blocs, macros et d&#8217;héritage qui permet de facilement factoriser le code</li>
</ul>
<p>Voyons un exemple. Voici un exemple de code en PHP et son équivalent en Twig :</p>
<div class="highlight-html+php"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;navigation&quot;</span><span class="p">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$navigation</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$item</span><span class="o">-&gt;</span><span class="na">getHref</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="p">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$item</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;navigation&quot;</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">navigation</span> <span class="cp">%}</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">item.href</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">item.name</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="section" id="le-base">
<h2>Le base<a class="headerlink" href="#le-base" title="Lien permanent vers ce titre">¶</a></h2>
<p>Retournons à l&#8217;origine de l&#8217;appel du template, c&#8217;est à dire dans le contrôleur et ajoutons quelques paramètres au template :</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;EpsiBlogBundle:Blog:show.html.twig&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="nv">$id</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Post du blog&#39;</span><span class="p">,</span>
            <span class="s1">&#39;date&#39;</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">\DateTime</span><span class="p">(),</span>
            <span class="s1">&#39;tags&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span> <span class="s1">&#39;php&#39;</span><span class="p">,</span> <span class="s1">&#39;symfony&#39;</span> <span class="p">),</span>
            <span class="s1">&#39;html&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&lt;b&gt;ceci est du texte en gras&lt;/b&gt;&#39;</span>
        <span class="p">));</span>
</pre></div>
</div>
<p>Ensuite enrichissons un peu le template d&#8217;affichage :</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Blog<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Blog<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">date</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="s2">&quot;m/d/Y&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
            <span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span> <span class="k">in</span> <span class="nv">tags</span> <span class="cp">%}</span>
                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">tag</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">html</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">html</span><span class="o">|</span><span class="nf">raw</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;epsi_blog_index&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span>Lien vers la liste des postes<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Voici le résultat :</p>
<img alt="../_images/twig_resultat1.png" class="align-center" src="../_images/twig_resultat1.png" />
<p>La syntaxe est très simple :</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></code> <strong>affiche</strong> quelque chose ;</li>
<li><code class="docutils literal"><span class="pre">{%</span> <span class="pre">...</span> <span class="pre">%}</span></code> <strong>fait</strong> quelque chose ;</li>
<li><code class="docutils literal"><span class="pre">{#</span> <span class="pre">...</span> <span class="pre">#}</span></code> n&#8217;affiche rien et ne fait rien : c&#8217;est la syntaxe pour les commentaires, qui peuvent être sur plusieurs lignes ;</li>
</ul>
</div>
<div class="section" id="acces-aux-variables">
<h2>Accès aux variables<a class="headerlink" href="#acces-aux-variables" title="Lien permanent vers ce titre">¶</a></h2>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="c">{# name = &#39;Jack&#39; #}</span>
<span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span>

<span class="c">{# user = array( &#39;name&#39; =&gt; &#39;Jack&#39; ) #}</span>
<span class="cp">{{</span> <span class="nv">user.name</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">user</span><span class="o">[</span><span class="s1">&#39;name&#39;</span><span class="o">]</span> <span class="cp">}}</span>

<span class="c">{# user = new User( &#39;Jack&#39; ) #}</span>
<span class="cp">{{</span> <span class="nv">user.name</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">user.getName</span> <span class="cp">}}</span>

<span class="c">{# pour forcer l&#39;appel à une méthode #}</span>
<span class="cp">{{</span> <span class="nv">user.name</span><span class="o">()</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">user.getName</span><span class="o">()</span> <span class="cp">}}</span>

<span class="c">{# passage d&#39;argument à une méthode #}</span>
<span class="cp">{{</span> <span class="nv">user.date</span><span class="o">(</span><span class="s1">&#39;Y-m-d&#39;</span><span class="o">)</span> <span class="cp">}}</span>

<span class="c">{# On peut aussi utiliser la fonction attribute #}</span>
<span class="cp">{{</span> <span class="nv">attribute</span><span class="o">(</span><span class="nv">object</span><span class="o">,</span> <span class="nv">method</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">attribute</span><span class="o">(</span><span class="nv">object</span><span class="o">,</span> <span class="nv">method</span><span class="o">,</span> <span class="nv">arguments</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">attribute</span><span class="o">(</span><span class="nv">array</span><span class="o">,</span> <span class="nv">item</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</div>
</div>
<div class="section" id="affectation-de-variables">
<h2>Affectation de variables<a class="headerlink" href="#affectation-de-variables" title="Lien permanent vers ce titre">¶</a></h2>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">]</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="les-filtres">
<h2>Les filtres<a class="headerlink" href="#les-filtres" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les variables peuvent être modifiées par des filtres. Les filtres sont séparés par des pipes (<code class="docutils literal"><span class="pre">|</span></code>) et peuvent avoir des paramètres supplémentaire entre parenthèses.</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">name</span><span class="o">|</span><span class="nf">striptags</span><span class="o">|</span><span class="nf">title</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">list</span><span class="o">|</span><span class="nf">join</span><span class="o">(</span><span class="s1">&#39;, &#39;</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>On peut également appliquer un filtre sur une portion de code :</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">filter</span> <span class="nf">upper</span> <span class="cp">%}</span>
    This text becomes uppercase
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="les-fonctions">
<h2>Les fonctions<a class="headerlink" href="#les-fonctions" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les fonctions sont appelées pour générer du contenu. Elles sont appelées par leur nom suivi de paramètres entre parenthèses :</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">i</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="m">0</span><span class="o">,</span> <span class="m">3</span><span class="o">)</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">i</span> <span class="cp">}}</span>,
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="les-structures-de-controle">
<h2>Les structures de contrôle<a class="headerlink" href="#les-structures-de-controle" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les structures de contrôle sont des tags dans Twig.</p>
<div class="section" id="conditions">
<h3>Conditions<a class="headerlink" href="#conditions" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">user.isSuperAdmin</span><span class="o">()</span> <span class="cp">%}</span>
    ...
<span class="cp">{%</span> <span class="k">elseif</span> <span class="nv">user.isMember</span><span class="o">()</span> <span class="cp">%}</span>
    ...
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
    ...
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="boucle">
<h3>Boucle<a class="headerlink" href="#boucle" title="Lien permanent vers ce titre">¶</a></h3>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="k">if</span> <span class="nv">user.isActive</span><span class="o">()</span> <span class="cp">%}</span>
    ...
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Le tag <code class="docutils literal"><span class="pre">{%</span> <span class="pre">for</span> <span class="pre">%}</span></code> met à disposition au sein de la boucle un variable <code class="docutils literal"><span class="pre">loop</span></code> qui contient les attributs suivantes :</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">index</span></code> : numéro de l&#8217;itération courante en commençant par 1</li>
<li><code class="docutils literal"><span class="pre">index0</span></code> :  : numéro de l&#8217;itération courante en commençant par 0</li>
<li><code class="docutils literal"><span class="pre">revindex</span></code> : nombre d&#8217;itérations restantes avant la fin de la boucle en finissant par 1</li>
<li><code class="docutils literal"><span class="pre">revindex0</span></code> : nombre d&#8217;itérations restantes avant la fin de la boucle en finissant par 0</li>
<li><code class="docutils literal"><span class="pre">first</span></code> : est-ce la première itération</li>
<li><code class="docutils literal"><span class="pre">last</span></code> : est-ce la dernière itération</li>
<li><code class="docutils literal"><span class="pre">length</span></code> : nombre total d&#8217;itération</li>
</ul>
</div>
</div>
<div class="section" id="les-types-de-variables">
<h2>Les types de variables<a class="headerlink" href="#les-types-de-variables" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les types de valeurs sont similaires aux types natifs de PHP excepté qu&#8217;il fait la différence entre les tableaux et les hashs (tableaux associatifs) :</p>
<ul class="simple">
<li>les chaînes de caractères <code class="docutils literal"><span class="pre">&quot;Hello</span> <span class="pre">world&quot;</span></code></li>
<li>les entiers <code class="docutils literal"><span class="pre">42</span></code></li>
<li>les flottants <code class="docutils literal"><span class="pre">42.56</span></code></li>
<li>les tableaux <code class="docutils literal"><span class="pre">[&quot;foo&quot;,</span> <span class="pre">&quot;bar&quot;]</span></code></li>
<li>les hashs <code class="docutils literal"><span class="pre">{&quot;foo&quot;:</span> <span class="pre">&quot;bar&quot;}</span></code> <code class="docutils literal"><span class="pre">{'foo':</span> <span class="pre">'foo',</span> <span class="pre">'bar':</span> <span class="pre">'bar'}</span></code> <code class="docutils literal"><span class="pre">{foo:</span> <span class="pre">'foo',</span> <span class="pre">bar:</span> <span class="pre">'bar'}</span></code> <code class="docutils literal"><span class="pre">{2:</span> <span class="pre">'foo',</span> <span class="pre">4:</span> <span class="pre">'bar'}</span></code></li>
<li>les booleans <code class="docutils literal"><span class="pre">true</span></code> et <code class="docutils literal"><span class="pre">false</span></code></li>
<li>le null <code class="docutils literal"><span class="pre">null</span></code></li>
</ul>
</div>
<div class="section" id="les-operateurs">
<h2>Les opérateurs<a class="headerlink" href="#les-operateurs" title="Lien permanent vers ce titre">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>Mathématiques</dt>
<dd><ul class="first last simple">
<li>addition <code class="docutils literal"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">+</span> <span class="pre">1</span> <span class="pre">}}</span></code> = 2</li>
<li>soustraction <code class="docutils literal"><span class="pre">{{</span> <span class="pre">3</span> <span class="pre">-</span> <span class="pre">2</span> <span class="pre">}}</span></code> = 1</li>
<li>multiplication <code class="docutils literal"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">}}</span></code> = 4</li>
<li>division <code class="docutils literal"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">2</span> <span class="pre">}}</span></code> = 0.5</li>
<li>division avec arrondi <code class="docutils literal"><span class="pre">{{</span> <span class="pre">20</span> <span class="pre">//</span> <span class="pre">7</span> <span class="pre">}}</span></code> = 2</li>
<li>modulo <code class="docutils literal"><span class="pre">{{</span> <span class="pre">20</span> <span class="pre">%</span> <span class="pre">7</span> <span class="pre">}}</span></code> = 6</li>
<li>puissance <code class="docutils literal"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">**</span> <span class="pre">3</span> <span class="pre">}}</span></code> = 8</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Logiques</dt>
<dd><ul class="first last simple">
<li>ET <code class="docutils literal"><span class="pre">and</span></code> (équivalent du <code class="docutils literal"><span class="pre">&amp;&amp;</span></code> PHP)</li>
<li>OU <code class="docutils literal"><span class="pre">or</span></code> (équivalent du <code class="docutils literal"><span class="pre">||</span></code> PHP)</li>
<li>Négation <code class="docutils literal"><span class="pre">not</span></code> (équivalent du <code class="docutils literal"><span class="pre">!</span></code> PHP)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Binaires</dt>
<dd><ul class="first last simple">
<li>ET <code class="docutils literal"><span class="pre">b-and</span></code> (équivalent du <code class="docutils literal"><span class="pre">&amp;</span></code> PHP)</li>
<li>OU <code class="docutils literal"><span class="pre">b-or</span></code> (équivalent du <code class="docutils literal"><span class="pre">|</span></code> PHP)</li>
<li>OU exclusif <code class="docutils literal"><span class="pre">not</span></code> (équivalent du <code class="docutils literal"><span class="pre">^</span></code> PHP)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Comparaisons</dt>
<dd><ul class="first last">
<li><p class="first">égalité <code class="docutils literal"><span class="pre">==</span></code></p>
</li>
<li><p class="first">différence <code class="docutils literal"><span class="pre">!=</span></code></p>
</li>
<li><p class="first">inférieur <code class="docutils literal"><span class="pre">&lt;</span></code></p>
</li>
<li><p class="first">supérieur <code class="docutils literal"><span class="pre">&gt;</span></code></p>
</li>
<li><p class="first">inférieur ou égal <code class="docutils literal"><span class="pre">&lt;=</span></code></p>
</li>
<li><p class="first">supérieur ou égal <code class="docutils literal"><span class="pre">&gt;=</span></code></p>
</li>
<li><dl class="first docutils">
<dt>pour les chaîne de caractères</dt>
<dd><ul class="first last simple">
<li>commence par <code class="docutils literal"><span class="pre">starts</span></code></li>
<li>finit par <code class="docutils literal"><span class="pre">ends</span></code></li>
<li>corresponds à <code class="docutils literal"><span class="pre">matches</span></code> (test avec une expression régulière)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Test</dt>
<dd><ul class="first last simple">
<li>est égal à une constante <code class="docutils literal"><span class="pre">is</span> <span class="pre">constant()</span></code></li>
<li>est définit <code class="docutils literal"><span class="pre">is</span> <span class="pre">defined</span></code></li>
<li>est divisible par <code class="docutils literal"><span class="pre">is</span> <span class="pre">divisible</span> <span class="pre">by()</span></code></li>
<li>est vide <code class="docutils literal"><span class="pre">is</span> <span class="pre">empty</span></code></li>
<li>est un nombre pair <code class="docutils literal"><span class="pre">is</span> <span class="pre">even</span></code></li>
<li>est un nombre impair <code class="docutils literal"><span class="pre">is</span> <span class="pre">odd</span></code></li>
<li>est itérable <code class="docutils literal"><span class="pre">is</span> <span class="pre">iterable</span></code></li>
<li>est null <code class="docutils literal"><span class="pre">is</span> <span class="pre">null</span></code></li>
<li>est identique à <code class="docutils literal"><span class="pre">is</span> <span class="pre">same</span> <span class="pre">as()</span></code> (équivalent du <code class="docutils literal"><span class="pre">===</span></code> PHP)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Autres opérateurs</dt>
<dd><ul class="first last">
<li><p class="first">crée un séquence <code class="docutils literal"><span class="pre">..</span></code> (équivalent de la fonction range) <code class="docutils literal"><span class="pre">1..4</span> <span class="pre">=</span> <span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4]</span></code></p>
</li>
<li><p class="first">applique un filtre <code class="docutils literal"><span class="pre">|</span></code></p>
</li>
<li><p class="first">convertie les opérandes en chaînes de caractères et les concatènes <code class="docutils literal"><span class="pre">~</span></code>. <code class="docutils literal"><span class="pre">&quot;Hello</span> <span class="pre">&quot;</span> <span class="pre">~</span> <span class="pre">name</span> <span class="pre">~</span> <span class="pre">&quot;!&quot;</span> <span class="pre">=</span> <span class="pre">&quot;Hello</span> <span class="pre">John!&quot;</span></code></p>
</li>
<li><p class="first">récupère un attribut d&#8217;un objet <code class="docutils literal"><span class="pre">.</span></code> ou <code class="docutils literal"><span class="pre">[]</span></code>. <code class="docutils literal"><span class="pre">user.name</span></code> ou <code class="docutils literal"><span class="pre">user['name']</span></code></p>
</li>
<li><dl class="first docutils">
<dt>opérateur tertiaire <code class="docutils literal"><span class="pre">?:</span></code> . <code class="docutils literal"><span class="pre">{{</span> <span class="pre">foo</span> <span class="pre">?</span> <span class="pre">'yes'</span> <span class="pre">:</span> <span class="pre">'no'</span> <span class="pre">}}</span></code></dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">{{</span> <span class="pre">foo</span> <span class="pre">?:</span> <span class="pre">'no'</span> <span class="pre">}}</span></code> est équivalent à <code class="docutils literal"><span class="pre">{{</span> <span class="pre">foo</span> <span class="pre">?</span> <span class="pre">foo</span> <span class="pre">:</span> <span class="pre">'no'</span> <span class="pre">}}</span></code></li>
<li><code class="docutils literal"><span class="pre">{{</span> <span class="pre">foo</span> <span class="pre">?</span> <span class="pre">'yes'</span> <span class="pre">}}</span></code> est équivalent à <code class="docutils literal"><span class="pre">{{</span> <span class="pre">foo</span> <span class="pre">?</span> <span class="pre">'yes'</span> <span class="pre">:</span> <span class="pre">''</span> <span class="pre">}}</span></code></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Substitution de chaînes de caractères</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">#{}</span></code> dans un chaîne ouverte ace des double quote. <code class="docutils literal"><span class="pre">&quot;foo</span> <span class="pre">#{1</span> <span class="pre">+</span> <span class="pre">2}</span> <span class="pre">baz&quot;</span> <span class="pre">=</span> <span class="pre">&quot;foo</span> <span class="pre">2</span> <span class="pre">bar&quot;</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Contrôle es espaces blancs</dt>
<dd><ul class="first last">
<li><p class="first">Supprime tous les espaces, tabulations et saut de lignes inutiles :</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">{%</span> <span class="pre">spaceless</span> <span class="pre">%}{%</span> <span class="pre">endspaceless</span> <span class="pre">%}</span></code></p>
<blockquote>
<div><div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="c">{# name = &#39;Jack&#39; #}</span>
<span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span>

<span class="c">{# user = array( &#39;name&#39; =&gt; &#39;Jack&#39; ) #}</span>
<span class="cp">{{</span> <span class="nv">user.name</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">user</span><span class="o">[</span><span class="s1">&#39;name&#39;</span><span class="o">]</span> <span class="cp">}}</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">{%-</span></code>, <code class="docutils literal"><span class="pre">-%}</span></code>, <code class="docutils literal"><span class="pre">{{-</span></code> et <code class="docutils literal"><span class="pre">-}}</span></code></p>
<blockquote>
<div><div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="c">{# user = new User( &#39;Jack&#39; ) #}</span>
<span class="cp">{{</span> <span class="nv">user.name</span> <span class="cp">}}</span>
<span class="cp">{{</span> <span class="nv">user.getName</span> <span class="cp">}}</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="les-variables-globales">
<h2>Les variables globales<a class="headerlink" href="#les-variables-globales" title="Lien permanent vers ce titre">¶</a></h2>
<p>Quelques variables sont disponibles dans les templates afin nous faciliter la vie :</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">app.request</span></code> : la requête qui a été passé au contrôleur</li>
<li><code class="docutils literal"><span class="pre">app.session</span></code> : la session de l&#8217;utilisateur</li>
<li><code class="docutils literal"><span class="pre">app.environment</span></code> : l&#8217;environnement sur lequel on travaille (dev, prod, etc.)</li>
<li><code class="docutils literal"><span class="pre">app.debug</span></code> : le débug est-il activé ou non</li>
<li><code class="docutils literal"><span class="pre">app.security</span></code> : le service security</li>
<li><code class="docutils literal"><span class="pre">app.user</span></code> : l&#8217;utilisateur courant</li>
</ul>
<p>On peut également injecter nos propres variables en ajoutant la configuration suivante :</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="c1"># app/config/config.yml</span>

<span class="l l-Scalar l-Scalar-Plain">twig</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">globals</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">auteur</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">moi</span>
</pre></div>
</div>
<p>Ensuite dans les templates, il ne reste plus qu&#8217;à appeller la variable : <code class="docutils literal"><span class="pre">{{</span> <span class="pre">auteur</span> <span class="pre">}}</span></code></p>
</div>
<div class="section" id="les-macros">
<h2>Les macros<a class="headerlink" href="#les-macros" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les macros sont similaires à des fonctions excepté qu&#8217;elles sont écrites directement en Twig :</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="c">{# dans le template où l&#39;on veut utiliser la macro #}</span>
<span class="cp">{%</span> <span class="k">import</span> <span class="nv">macro.html.twig</span> <span class="k">as</span> <span class="nv">forms</span> <span class="cp">%}</span>

<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">forms.input</span><span class="o">(</span><span class="s1">&#39;username&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

<span class="c">{# dans le template où l&#39;on implémente les macros #}</span>
<span class="cp">{%</span> <span class="k">macro</span> <span class="nv">input</span><span class="o">(</span><span class="nv">name</span><span class="o">,</span> <span class="nv">value</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">,</span> <span class="nv">type</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span><span class="o">,</span> <span class="nv">size</span> <span class="o">=</span> <span class="m">20</span><span class="o">)</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">type</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">value</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="na">size</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">size</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="p">/&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="heritage-de-templates">
<h2>Héritage de templates<a class="headerlink" href="#heritage-de-templates" title="Lien permanent vers ce titre">¶</a></h2>
<p>L&#8217;héritage permet de créer un squelette définissant la structure générale des pages dans lequel on définit des blocs qui seront surchargés par les templates enfants.</p>
<p>Une des bonne pratique pour organiser ses templates est de mettre trois niveaux d&#8217;héritage :</p>
<ul class="simple">
<li>le <strong>layout général</strong> : il s&#8217;agit du design du site. Il est indépendant de celui des bundles. Il contient la structure des page de votre site : header, footer, menu principal, etc. Son chemin exact est <code class="docutils literal"><span class="pre">app/Resources/views/base.html.twig</span></code> et voici la syntaxe pour l&#8217;appeler dans vos bundles : <code class="docutils literal"><span class="pre">::base.html.twig</span></code></li>
<li>le <strong>layout du bundle</strong> : il hérite du layout général et contient tous les éléments communs aux pages d&#8217;un même bundle comme un menu secondaire par exemple</li>
<li>le <strong>template de la page</strong> : il hérite du layout du bundle et contient la partie centrale de la page</li>
</ul>
<p>Reprenons le template <code class="docutils literal"><span class="pre">show.html.twig</span></code> et répartissons le code dans les templates <code class="docutils literal"><span class="pre">app/Resources/views/base.html.twig</span></code> et <code class="docutils literal"><span class="pre">src/Epsi/Bundle/BlogBundle/Resources/views/base.html.twig</span></code> en remplaçant les parties spécifiques par des blocs et en l&#8217;enrichissant un peu :</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="c">{# app/Resources/views/base.html.twig #}</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equic</span><span class="o">=</span><span class="s">&quot;Content-type&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span> - Blog<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">header</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;well&quot;</span><span class="p">&gt;</span>
                    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">header</span> <span class="cp">%}</span>
                    <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
                <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;content&quot;</span><span class="p">&gt;</span>
                    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
                    <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>
                    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
                        <span class="ni">&amp;copy;</span> Copyright 2015
                    <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
                <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">javascripts</span> <span class="cp">%}</span>
            <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="c">{# src/Epsi/Bundle/BlogBundle/Resources/views/base.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;::base.html.twig&quot;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="s1">&#39;Blog&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">header</span> <span class="cp">%}</span><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Blog<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span><span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>
    - <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;epsi_blog_index&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="p">&gt;</span>Lien vers la liste des postes<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="c">{# src/Epsi/Bundle/BlogBundle/Resources/views/Blog/show.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;EpsiBlogBundle::base.html.twig&quot;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">date</span><span class="o">|</span><span class="nf">date</span><span class="o">(</span><span class="s2">&quot;m/d/Y&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="cp">{%</span> <span class="k">for</span> <span class="nv">tag</span> <span class="k">in</span> <span class="nv">tags</span> <span class="cp">%}</span>
            <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">tag</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
            <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">html</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="cp">{{</span> <span class="nv">html</span><span class="o">|</span><span class="nf">raw</span> <span class="cp">}}</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="inclusion-de-templates">
<h2>Inclusion de templates<a class="headerlink" href="#inclusion-de-templates" title="Lien permanent vers ce titre">¶</a></h2>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;header.html&#39;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;body.html&#39;</span> <span class="nv">only</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">include</span> <span class="s1">&#39;footer.html&#39;</span> <span class="k">with</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">}</span> <span class="nv">only</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Lors de l&#8217;inclusion de template, le template inclus a accès à toutes les variables du contexte courant sauf si on utilise le mot clé <code class="docutils literal"><span class="pre">only</span></code>. Le mot clé <code class="docutils literal"><span class="pre">with</span></code> permet quand à lui de passer des variables au template.</p>
</div>
<div class="section" id="inclusion-de-controleurs">
<h2>Inclusion de contrôleurs<a class="headerlink" href="#inclusion-de-controleurs" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour inclure un contôleur, c&#8217;est très simple il suffit d&#8217;utiliser la fonction <code class="docutils literal"><span class="pre">render</span></code> :</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">render</span><span class="o">(</span><span class="nv">controller</span><span class="o">(</span><span class="s2">&quot;EpsiBlogBundle:Blog:menu&quot;</span><span class="o">))</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>Ici, contrairement à un inclusion de template qui va utiliser les variables de sont template parent, le contrôleur appelé va récupérer tous les données qu&#8217;il lui sont nécessaire et les afficher dans une vue.</p>
<p>Twig propose beaucoup de filtres, méthodes et fonctions que vous pouvez retrouver sur la documentation officielle : <a class="reference external" href="http://twig.sensiolabs.org/">http://twig.sensiolabs.org/</a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">

    <p>
        &copy; Copyright 2014, Madeline VEYRENC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>