<!DOCTYPE html>


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Création d&#39;un bundle &mdash; Symfony 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/styles.css" type="text/css" />
    <link rel="stylesheet" href="_static/slides.css" type="text/css" />
    

    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/common.js"></script>
    <script type="text/javascript" src="_static/slides.js"></script>
    <script type="text/javascript" src="_static/sync.js"></script>
    <script type="text/javascript" src="_static/controller.js"></script>
    <script type="text/javascript" src="_static/init.js"></script>
    
    <link rel="top" title="Symfony 1.0.0 documentation" href="index.html" />
    <link rel="next" title="Le routing" href="06_routing.html" />
    <link rel="prev" title="Architecture de Symfony" href="04_architecture.html" /> 
  </head>
  <body>

<section
   id="slide_container"
   class='slides layout-regular'>


  <article class="slide level-1" id="creation-d-un-bundle">
<h1>Création d'un bundle</h1>
<p>Bien que tous les répertoires et les fichiers d'un bundle peuvent être créés manuellement, nous allons utilisé la console Symfony pour générer le bundle et l'activer.</p>

</article>
<article class="slide level-2" id="utilisation-de-la-console">
<h2>Utilisation de la console</h2>
<p>La console permet de lancer des actions en ligne de commande pour aider au développement, lancer des tâches planifiées (cron), etc.</p>
<p>Pour lancer la console, il faut exécuter le script <tt class="docutils literal"><span class="pre">app/console</span></tt> suivit d'arguments pour lancer les différentes commandes. Pour avoir la liste des commandes disponible, il suffit de lanncer le script <tt class="docutils literal"><span class="pre">app/console</span></tt> sans arguments :</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>php app/console
</pre></div>
</div>

</article>
<article class="slide level-2" id="creation-du-bundle">
<h2>Création du bundle</h2>
<ol class="arabic">
<li><p class="first">Exécutez la commande suivante :</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>php app/console generate:bundle
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">La namespace du bundle</p>
<blockquote>
<div><p>Vous pouvez nommer votre namespace comme bon vous semble, du moment qu'il se termine par <tt class="docutils literal"><span class="pre">Bundle</span></tt>. Mais convention, le namespace d'un bundle pour être former ainsi :
* Un namespace racine, il s'agit du vendor : l'auteur, une société, un projet, un client, etc.
* Le namespace optionnel <tt class="docutils literal"><span class="pre">Bundle</span></tt>
* Un ou plusieurs namespaces de catégorisation (optionnel)
* Le nom du bundle en lui même qui doit décrire la fonction implémentée par le bundle en un ou deux mots suit de <tt class="docutils literal"><span class="pre">Bundle</span></tt></p>
<p>Ce qui nous donne par exemple : <tt class="docutils literal"><span class="pre">Epsi\Bundle\BlogBundle</span></tt>, <tt class="docutils literal"><span class="pre">Epsi\Bundle\Social\BlogBundle</span></tt> ou <tt class="docutils literal"><span class="pre">Epsi\BlogBundle</span></tt>.</p>
<p>Nous allons appelé notre bundle <tt class="docutils literal"><span class="pre">Epsi\Bundle\BlogBundle</span></tt>.</p>
</div></blockquote>
</li>
<li><p class="first">Le nom du bundle</p>
<blockquote>
<div><p>Symfony génère automatiquement un nom à partir du namespace du bundle en respectant les conventions de nommage. Il faut juste vérifier qu'il soit unique.</p>
</div></blockquote>
</li>
<li><p class="first">L'emplacement du bundle</p>
<blockquote>
<div><p>Par défaut Symfony le place dans le répertoire <tt class="docutils literal"><span class="pre">/src</span></tt>. On laisse la valeur par défaut.</p>
</div></blockquote>
</li>
<li><p class="first">Le format de la configuration</p>
<blockquote>
<div><p>Symfony propose plusieurs format pour la configuration : YAML, XML, PHP ou Annotations. Ce choix n'a pas d'impact sur les performances, et chaque format a ses avantages et ses inconvénients. Il s'agit juste de choisir le format avec lequel vous êtes le plus alèse.</p>
<p>Dans notre cas, nous allons choisir le <tt class="docutils literal"><span class="pre">yml</span></tt>.</p>
</div></blockquote>
</li>
<li><p class="first">La structure générer</p>
<blockquote>
<div><p>Ici, Symfony vous demande si vous voulez juste le minimum vital ou une structure plus complète, quitte à supprimer des répertoires à posteriori s'ils ne sont pas utilisés.</p>
<p>Répondez <tt class="docutils literal"><span class="pre">yes</span></tt>.</p>
</div></blockquote>
</li>
<li><p class="first">Confirmer et c'est parti</p>
<blockquote>
<div><p>Répondez <tt class="docutils literal"><span class="pre">yes</span></tt> à toutes les autres questions et votre bundle sera généré et installé : <a class="reference external" href="http://localhost/Symfony/web/app_dev.php/hello/World">http://localhost/Symfony/web/app_dev.php/hello/World</a></p>
</div></blockquote>
</li>
</ol>

</article>
<article class="slide level-2" id="que-s-est-il-passe">
<h2>Que s'est-il passé ?</h2>
<ol class="arabic">
<li><p class="first">Symfony a généré la structure du bundle</p>
<blockquote>
<div><p>Dans le répertoire généré par Symfony on trouve :</p>
<ul>
<li><p class="first">un contrôleur dans le répertoire <tt class="docutils literal"><span class="pre">Controller</span></tt></p>
</li>
<li><p class="first">les classes permettant de la configuration du bundle dans le répertoire <tt class="docutils literal"><span class="pre">DependencyInjection</span></tt></p>
</li>
<li><dl class="first docutils">
<dt>les ressources dans le répertoire <tt class="docutils literal"><span class="pre">Resources</span></tt></dt>
<dd><ul class="first last simple">
<li>les fichiers de configuration dans <tt class="docutils literal"><span class="pre">config</span></tt></li>
<li>la documentation dans <tt class="docutils literal"><span class="pre">doc</span></tt></li>
<li>les fichiers à destination du visiteur (CSS, Javascript, images) dans <tt class="docutils literal"><span class="pre">public</span></tt></li>
<li>les fichiers de traduction dans <tt class="docutils literal"><span class="pre">translations</span></tt></li>
<li>les templates Twig dans <tt class="docutils literal"><span class="pre">views</span></tt></li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">les tests dans <tt class="docutils literal"><span class="pre">Tests</span></tt></p>
</li>
<li><p class="first">enfin, le seul fichier obligatoire dans un bundle : la classe <tt class="docutils literal"><span class="pre">EpsiBlogBundle.php</span></tt></p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Symfony enregistre notre bundle dans le Kernel (<tt class="docutils literal"><span class="pre">app/AppKernel.php</span></tt>)</p>
</li>
<li><p class="first">Symfony ajoute les routes de notre bundle dans le Routeur (<tt class="docutils literal"><span class="pre">app/config/routing.yml</span></tt>)</p>
</li>
</ol>

</article>
<article class="slide level-1" id="objectif-de-notre-bundle-un-blog">
<h1>Objectif de notre bundle : un blog</h1>
<p>Le blog que nous allons créer est très simple. En voici les grandes lignes :</p>
<ul class="simple">
<li>Nous aurons des articles auxquels nous attacherons des tags.</li>
<li>Nous pourrons lire, écrire, éditer et rechercher des articles.</li>
<li>Nous pourrons créer, modifier et supprimer des tags.</li>
<li>Au début, nous n'aurons pas de système de gestion des utilisateurs : nous devrons saisir notre nom lorsque nous rédigerons un article. Puis nous rajouterons la couche utilisateur.</li>
<li>Au début, il n'y aura pas de système de commentaires. Puis nous ajouterons cette couche commentaire.</li>
</ul>

</article>


</section>

<section id="slide_notes">

</section>

  </body>
</html>