

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Architecture de Symfony &mdash; Symfony 1.0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Symfony 1.0.1 documentation" href="index.html"/>
        <link rel="next" title="Création d’un bundle" href="application_symfony.html"/>
        <link rel="prev" title="Pré-requis et installation du framework" href="pre-requis_installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Symfony
        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction à Symfony</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#qu-est-ce-qu-un-framework">Qu&#8217;est ce qu&#8217;un framework ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#pourquoi-utiliser-un-framework">Pourquoi utiliser un framework ?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rappel.html">La programmation orientée objet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#terminologie">Terminologie</a></li>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#mots-reserves">Mots réservés</a></li>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#syntaxe-de-base">Syntaxe de base</a></li>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#heritage">Héritage</a></li>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#classes-abstraites">Classes abstraites</a></li>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#visibilite">Visibilité</a></li>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#l-operateur-de-resolution-de-portee">L&#8217;opérateur de résolution de portée (::)</a></li>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#references-et-clonage">Références et clonage</a></li>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="rappel.html#espace-de-nom-ou-namespace">Espace de nom ou namespace</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pre-requis_installation.html">Pré-requis et installation du framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pre-requis_installation.html#pre-requis">Pré-requis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pre-requis_installation.html#installation-de-mysql">Installation de MySQL</a></li>
<li class="toctree-l3"><a class="reference internal" href="pre-requis_installation.html#installation-d-apache">Installation d&#8217;Apache</a></li>
<li class="toctree-l3"><a class="reference internal" href="pre-requis_installation.html#installation-de-librairies-et-outils-supplementaires">Installation de librairies et outils supplémentaires</a></li>
<li class="toctree-l3"><a class="reference internal" href="pre-requis_installation.html#installation-de-php">Installation de PHP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pre-requis_installation.html#installation-de-symfony">Installation de Symfony</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pre-requis_installation.html#telechargement-de-symfony">Téléchargement de Symfony</a></li>
<li class="toctree-l3"><a class="reference internal" href="pre-requis_installation.html#verifier-votre-configuration-de-php">Vérifier votre configuration de PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="pre-requis_installation.html#verifier-la-configuration-de-php-en-console">Vérifier la configuration de PHP en console</a></li>
<li class="toctree-l3"><a class="reference internal" href="pre-requis_installation.html#correction-des-droits-sur-les-fichiers">Correction des droits sur les fichiers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Architecture de Symfony</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#l-architecture-des-fichiers">L&#8217;architecture des fichiers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#le-repertoire-app">Le répertoire <em>/app</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#le-repertoire-bin">Le répertoire <em>/bin</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#le-repertoire-src">Le répertoire <em>/src</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#le-repertoire-vendor">Le répertoire <em>/vendor</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#le-repertoire-web">Le répertoire <em>/web</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#les-fichiers-composer">Les fichiers <em>/composer.*</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="#les-fichiers-md">Les fichiers <em>/*.md</em></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#architecture-conceptuelle">Architecture conceptuelle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#architecture-mvc">Architecture MVC</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deroulement-d-une-requete-dans-symfony">Déroulement d&#8217;une requête dans Symfony</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#les-bundles">Les bundles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="application_symfony.html">Création d&#8217;un bundle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="application_symfony.html#utilisation-de-la-console">Utilisation de la console</a></li>
<li class="toctree-l2"><a class="reference internal" href="application_symfony.html#creation-du-bundle">Création du bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="application_symfony.html#que-s-est-il-passe">Que s&#8217;est-il passé ?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="application_symfony.html#objectif-de-notre-bundle-un-blog">Objectif de notre bundle : un blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="routing.html">Le routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="routing.html#fonctionnement">Fonctionnement</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#convention-de-nommage-des-controleurs">Convention de nommage des contrôleurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#controles-des-parametres-des-routes">Contrôles des paramètres des routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#parametres-speciaux-de-routing">Paramètres spéciaux de routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#comment-generer-des-url">Comment générer des URL ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#creons-les-routes-du-blog">Créons les routes du blog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="routing.html#liste-des-posts">Liste des posts</a></li>
<li class="toctree-l3"><a class="reference internal" href="routing.html#visualisation-d-un-post">Visualisation d&#8217;un post</a></li>
<li class="toctree-l3"><a class="reference internal" href="routing.html#ajout-d-un-post">Ajout d&#8217;un post</a></li>
<li class="toctree-l3"><a class="reference internal" href="routing.html#modification-d-un-post">Modification d&#8217;un post</a></li>
<li class="toctree-l3"><a class="reference internal" href="routing.html#suppression-d-un-post">Suppression d&#8217;un post</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="controleur.html">Les contrôleurs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="controleur.html#request-et-response"><code class="docutils literal"><span class="pre">Request</span></code> et <code class="docutils literal"><span class="pre">Response</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="controleur.html#l-objet-request">L&#8217;objet <code class="docutils literal"><span class="pre">Request</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="controleur.html#les-parametres-contenus-dans-les-routes">Les paramètres contenus dans les routes</a></li>
<li class="toctree-l3"><a class="reference internal" href="controleur.html#les-parametres-hors-routes">Les paramètres hors routes</a></li>
<li class="toctree-l3"><a class="reference internal" href="controleur.html#les-autres-methodes-de-l-objet-request">Les autres méthodes de l&#8217;objet <code class="docutils literal"><span class="pre">Request</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="controleur.html#l-objet-response">L&#8217;objet <code class="docutils literal"><span class="pre">Response</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="services.html">Les services</a><ul>
<li class="toctree-l2"><a class="reference internal" href="services.html#acceder-un-service">Accéder un service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html#exemple-de-services">Exemple de services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="services.html#templating">Templating</a></li>
<li class="toctree-l3"><a class="reference internal" href="services.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="services.html#session">Session</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="services.html#obtenir-des-informations-sur-les-services">Obtenir des informations sur les services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="twig.html">Les vues avec Twig</a><ul>
<li class="toctree-l2"><a class="reference internal" href="twig.html#le-base">Le base</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#acces-aux-variables">Accès aux variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#affectation-de-variables">Affectation de variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#les-filtres">Les filtres</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#les-fonctions">Les fonctions</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#les-structures-de-controle">Les structures de contrôle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="twig.html#conditions">Conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="twig.html#boucle">Boucle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#les-types-de-variables">Les types de variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#les-operateurs">Les opérateurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#les-variables-globales">Les variables globales</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#les-macros">Les macros</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#heritage-de-templates">Héritage de templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#inclusion-de-templates">Inclusion de templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="twig.html#inclusion-de-controleurs">Inclusion de contrôleurs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="assets.html">Les assets</a></li>
<li class="toctree-l1"><a class="reference internal" href="doctrine.html">Doctrine et la base de donnée</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doctrine.html#qu-est-ce-qu-un-orm">Qu&#8217;est ce qu&#8217;un ORM ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="doctrine.html#creation-des-entites">Création des entités</a><ul>
<li class="toctree-l3"><a class="reference internal" href="doctrine.html#l-entite-user">L&#8217;entité <code class="docutils literal"><span class="pre">User</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#structure-de-l-entite">Structure de l&#8217;entité</a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#utilisation-du-generateur">Utilisation du générateur</a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#la-classe-user">La classe <code class="docutils literal"><span class="pre">User</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#la-classe-userrepository">La classe <code class="docutils literal"><span class="pre">UserRepository</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="doctrine.html#creation-des-autres-entites">Création des autres entités</a><ul>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#l-entite-post">L&#8217;entité <code class="docutils literal"><span class="pre">Post</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#l-entite-tag">L&#8217;entité <code class="docutils literal"><span class="pre">Tag</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#l-entite-comment">L&#8217;entité <code class="docutils literal"><span class="pre">Comment</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#l-entite-image">L&#8217;entité <code class="docutils literal"><span class="pre">Image</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="doctrine.html#definition-de-valeur-par-defaut">Définition de valeur par défaut</a></li>
<li class="toctree-l2"><a class="reference internal" href="doctrine.html#definition-des-relations">Définition des relations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="doctrine.html#notions-techniques-a-savoir">Notions techniques à savoir</a><ul>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#notion-du-proprietaire-et-de-l-inverse">Notion du propriétaire et de l&#8217;inverse</a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#notion-d-unidirectionnalite-et-de-bidirectionnalite">Notion d&#8217;unidirectionnalité et de bidirectionnalité</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="doctrine.html#relation-one-to-one">Relation One-To-One</a><ul>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#dans-l-entite-proprietaire">Dans l&#8217;entité propriétaire</a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#dans-l-entite-inverse">Dans l&#8217;entité inverse</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="doctrine.html#relation-many-to-one-et-one-to-many">Relation Many-To-One et One-To-Many</a><ul>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#id1">Dans l&#8217;entité propriétaire</a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#id2">Dans l&#8217;entité inverse</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="doctrine.html#relation-many-to-many">Relation Many-To-Many</a><ul>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#id3">Dans l&#8217;entité propriétaire</a></li>
<li class="toctree-l4"><a class="reference internal" href="doctrine.html#id4">Dans l&#8217;entité inverse</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="doctrine.html#creation-de-la-base-de-donnees-et-des-tables">Création de la base de données et des tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="doctrine.html#manipulation-des-donnees">Manipulation des données</a><ul>
<li class="toctree-l3"><a class="reference internal" href="doctrine.html#enregistrer-les-entites-dans-la-base-de-donnee">Enregistrer les entités dans la base de donnée</a></li>
<li class="toctree-l3"><a class="reference internal" href="doctrine.html#recuperer-ses-entites-avec-un-entityrepository">Récupérer ses entités avec un EntityRepository</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="formulaire.html">Les formulaires</a><ul>
<li class="toctree-l2"><a class="reference internal" href="formulaire.html#gestion-basique-d-un-formulaire">Gestion basique d&#8217;un formulaire</a></li>
<li class="toctree-l2"><a class="reference internal" href="formulaire.html#validation-des-donnees">Validation des données</a></li>
<li class="toctree-l2"><a class="reference internal" href="formulaire.html#personnalisation-de-l-affichage">Personnalisation de l&#8217;affichage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="aide_memoire.html">Aide mémoire</a><ul>
<li class="toctree-l2"><a class="reference internal" href="aide_memoire.html#creation-d-un-bundle">Création d&#8217;un bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="aide_memoire.html#creation-d-une-entite">Création d&#8217;une entité</a></li>
<li class="toctree-l2"><a class="reference internal" href="aide_memoire.html#deployer-les-fichiers-statiques-des-bundles-dans-web">Déployer les fichiers statiques des bundles dans web/</a></li>
<li class="toctree-l2"><a class="reference internal" href="aide_memoire.html#manipuler-la-base-de-donnees">Manipuler la base de données</a></li>
<li class="toctree-l2"><a class="reference internal" href="aide_memoire.html#generation-de-code">Génération de code</a></li>
<li class="toctree-l2"><a class="reference internal" href="aide_memoire.html#transformer-la-configuration-des-entites">Transformer la configuration des entités</a></li>
<li class="toctree-l2"><a class="reference internal" href="aide_memoire.html#debug">Debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="aide_memoire.html#depuis-un-controleur">Depuis un contrôleur</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tp.html">TP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tp.html#description-de-l-application">Description de l&#8217;application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tp.html#description-des-entites">Description des entités</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tp.html#l-entite-user">L&#8217;entité <code class="docutils literal"><span class="pre">User</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="tp.html#l-entite-post">L&#8217;entité <code class="docutils literal"><span class="pre">Post</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="tp.html#l-entite-tag">L&#8217;entité <code class="docutils literal"><span class="pre">Tag</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="tp.html#l-entite-comment">L&#8217;entité <code class="docutils literal"><span class="pre">Comment</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tp.html#les-interfaces">Les interfaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tp.html#les-posts">Les posts</a></li>
<li class="toctree-l4"><a class="reference internal" href="tp.html#les-commentaires">Les commentaires</a></li>
<li class="toctree-l4"><a class="reference internal" href="tp.html#les-utilisateurs">Les utilisateurs</a></li>
<li class="toctree-l4"><a class="reference internal" href="tp.html#les-tags">Les tags</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tp.html#travail-a-effectuer">Travail à effectuer</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Symfony</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Architecture de Symfony</li>
      <li class="wy-breadcrumbs-aside">
        
          
        

        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="architecture-de-symfony">
<h1>Architecture de Symfony<a class="headerlink" href="#architecture-de-symfony" title="Permalink to this headline">¶</a></h1>
<div class="section" id="l-architecture-des-fichiers">
<h2>L&#8217;architecture des fichiers<a class="headerlink" href="#l-architecture-des-fichiers" title="Permalink to this headline">¶</a></h2>
<p>Dans les sources que nous venons de d&#8217;installer, il n&#8217;y a pas beaucoup de fichiers :</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">app</span>
<span class="go">bin</span>
<span class="go">composer.json</span>
<span class="go">composer.lock</span>
<span class="go">LICENSE</span>
<span class="go">README.md</span>
<span class="go">src</span>
<span class="go">UPGRADE-2.2.md</span>
<span class="go">UPGRADE-2.3.md</span>
<span class="go">UPGRADE-2.4.md</span>
<span class="go">UPGRADE.md</span>
<span class="go">vendor</span>
<span class="go">web</span>
</pre></div>
</div>
<p>Voyons à quoi ils correspondent.</p>
<div class="section" id="le-repertoire-app">
<h3>Le répertoire <em>/app</em><a class="headerlink" href="#le-repertoire-app" title="Permalink to this headline">¶</a></h3>
<p>Ce répertoire contient tout ce qui concerne votre application, sauf son code source.</p>
<p>Le code source de votre application implémente ses fonctionnalités. Tout le reste comme la configuration, le cache, les logs, etc., c&#8217;est dans le répertoire <em>/app</em></p>
</div>
<div class="section" id="le-repertoire-bin">
<h3>Le répertoire <em>/bin</em><a class="headerlink" href="#le-repertoire-bin" title="Permalink to this headline">¶</a></h3>
<p>Ce répertoire n&#8217;est pas tout le temps présent. Il contient des exécutables fournis par les bundles.</p>
</div>
<div class="section" id="le-repertoire-src">
<h3>Le répertoire <em>/src</em><a class="headerlink" href="#le-repertoire-src" title="Permalink to this headline">¶</a></h3>
<p>Voici le répertoire dans lequel on mettra notre code source ! Ce code est découpé en <em>bundles</em>.</p>
<p>Après l&#8217;installation de Symfony, ce répertoire n&#8217;est pas vide. Il contient un bundle de démo (Acme) et une ébauche de bundle. Ces deux bundles seront supprimés.</p>
</div>
<div class="section" id="le-repertoire-vendor">
<h3>Le répertoire <em>/vendor</em><a class="headerlink" href="#le-repertoire-vendor" title="Permalink to this headline">¶</a></h3>
<p>Ce répertoire contient toutes les librairies externes de notre application comme Symfony, Doctrine, Twig, SwiftMailer, etc.</p>
<div class="hint admonition">
<p class="first admonition-title">Qu&#8217;est ce qu&#8217;une librairie ?</p>
<p class="last">Un librairie est une boite noire qui rempli une fonction bien précise et dont on peut se servir dans notre code. On ne sais pas comment elle fonctionne, mais on sais comment s&#8217;en servir.</p>
</div>
</div>
<div class="section" id="le-repertoire-web">
<h3>Le répertoire <em>/web</em><a class="headerlink" href="#le-repertoire-web" title="Permalink to this headline">¶</a></h3>
<p>Ce répertoire contient tous les fichiers destinés aux visiteurs : image, CSS, Javascript, etc. Il contient également les contrôleurs frontaux <code class="docutils literal"><span class="pre">app.php</span></code> et <code class="docutils literal"><span class="pre">app_dev.php</span></code>. C&#8217;est le seul répertoire accessible aux visiteurs.</p>
<div class="hint admonition">
<p class="first admonition-title">Contrôleur frontal</p>
<p class="last">Le contrôleur front est le point d&#8217;entrée par lequel passe toutes les pages. Dans Symfony, il y en a deux : un pour le développement l&#8217;autre pour les autres environnement.</p>
</div>
</div>
<div class="section" id="les-fichiers-composer">
<h3>Les fichiers <em>/composer.*</em><a class="headerlink" href="#les-fichiers-composer" title="Permalink to this headline">¶</a></h3>
<p>Le fichier <code class="docutils literal"><span class="pre">composer.json</span></code> contient les instructions destinées à composer pour qu&#8217;il installe les librairies externes. À chaque installation ou mise à jour de librairie, il écrit dans le fichier <code class="docutils literal"><span class="pre">composer.lock</span></code> les versions exactes de chaque librairie qu&#8217;il a installé. Ensuite, lors du déploiement de l&#8217;application sur les autres environnements, comme en production, on pourra installer les mêmes versions que lors des développements grâce à composer.</p>
</div>
<div class="section" id="les-fichiers-md">
<h3>Les fichiers <em>/*.md</em><a class="headerlink" href="#les-fichiers-md" title="Permalink to this headline">¶</a></h3>
<p>Le reste des fichiers contient de la documentation.</p>
</div>
</div>
<div class="section" id="architecture-conceptuelle">
<h2>Architecture conceptuelle<a class="headerlink" href="#architecture-conceptuelle" title="Permalink to this headline">¶</a></h2>
<p>Maintenant que nous avons vu comment s&#8217;organisait les fichiers de Symfony, nous allons voir comment s&#8217;organise l&#8217;exécution du code.</p>
<div class="section" id="architecture-mvc">
<h3>Architecture MVC<a class="headerlink" href="#architecture-mvc" title="Permalink to this headline">¶</a></h3>
<p>MVC signifie Modèle/Vue/Contrôleur. C&#8217;est un découpage très répandu dans les frameworks web. L&#8217;idée est d&#8217;organiser le code en séparant les données, leurs présentations et leurs traitements. Cette séparation rends les applications, même complexes, plus facile à maintenir et à faire évoluer.</p>
<p>Elle se compose de trois couches :</p>
<ul>
<li><dl class="first docutils">
<dt>Le <strong>contrôleur</strong> (<em>controller</em>)</dt>
<dd><p class="first last">Son rôle est de générer la réponse à la requête HTTP demandée par le visiteur. Il analyse la requête du visiteur, et utilise les autres composants pour composer la réponse et la renvoie au visiteur.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Le <strong>modèle</strong> (<em>model</em>)</dt>
<dd><p class="first last">Il est responsable des données et de tous les traitements faits sur les données. Rien d&#8217;autre dans l&#8217;application ne doit manipuler les données afin de garantir leur intégrité.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>La <strong>vue</strong> (<em>vue</em>)</dt>
<dd><p class="first last">Elle est chargée de générer les interfaces utilisateurs, généralement basées sur les données. Elle peut présenter les données sous plusieurs formes : HTML, json, XML, etc.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="deroulement-d-une-requete-dans-symfony">
<h3>Déroulement d&#8217;une requête dans Symfony<a class="headerlink" href="#deroulement-d-une-requete-dans-symfony" title="Permalink to this headline">¶</a></h3>
<img alt="_images/symfony_request_flow.png" class="align-center" src="_images/symfony_request_flow.png" />
<ol class="arabic simple">
<li>Le visiteur demande une page ;</li>
<li>Le <strong>contrôleur frontal</strong> reçoit la requête, charge le <strong>Kernel</strong> et la lui transmet ;</li>
<li>Le <strong>Kernel</strong> demande au <strong>Router</strong> quel contrôleur&nbsp;exécuter pour la page demandée ;</li>
<li>Le <strong>Kernel</strong> exécute le <strong>contrôleur</strong>.</li>
<li>Le <strong>contrôleur</strong> retourne la réponse.</li>
</ol>
<div class="hint admonition">
<p class="first admonition-title">Le routeur</p>
<p class="last">C&#8217;est un composant Symfony qui a pour mission de faire la correspondance en les URL et les contrôleurs.</p>
</div>
</div>
</div>
<div class="section" id="les-bundles">
<h2>Les bundles<a class="headerlink" href="#les-bundles" title="Permalink to this headline">¶</a></h2>
<p>Comme dit précédemment, un bundle contient tout le code source nécessaire pour implémenter la ou les fonctionnalités pour lesquelles il est prévue. Quand on dit tout le code source, il s&#8217;agit :</p>
<ul class="simple">
<li>des contrôleurs</li>
<li>des modèles</li>
<li>des vues</li>
<li>des commandes</li>
<li>des services</li>
<li>des assets (images, javascript, CSS)</li>
<li>des dépendances (librairies)</li>
<li>des outils de débug</li>
<li>etc.</li>
</ul>
<p>Tout ces éléments sont organisés dans des répertoires comme on peut le voir dans le bundle de démo qui se trouve dans <code class="docutils literal"><span class="pre">Acme/DemoBundle</span></code> :</p>
<div class="highlight-console"><div class="highlight"><pre><span class="go">Controller                          | Contrôleurs</span>
<span class="go">└── DefaultController.php</span>
<span class="go">DependencyInjection                 | Informations sur le bundle (chargement automatique de la configuration par exemple)</span>
<span class="go">└── Configuration.php</span>
<span class="go">Resources</span>
<span class="go">├── config                          | Fichier de configuration du bundle</span>
<span class="go">│   ├── routing.yml</span>
<span class="go">│   └── services.yml</span>
<span class="go">├── doc                             | Documentation du bundle</span>
<span class="go">│   └── index.rst</span>
<span class="go">├── public                          | Fichiers à destination des internautes</span>
<span class="go">│   ├── css</span>
<span class="go">│   ├── images</span>
<span class="go">│   └── js</span>
<span class="go">├── translations                    | Fichiers de traductions</span>
<span class="go">│   └── messages.fr.xlf</span>
<span class="go">└── views                           | Template Twig</span>
<span class="go">    └── Default</span>
<span class="go">        └── index.html.twig</span>
<span class="go">Tests                               | Tests</span>
<span class="go">└── Controller</span>
<span class="go">    └── DefaultControllerTest.php</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="application_symfony.html" class="btn btn-neutral float-right" title="Création d’un bundle" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pre-requis_installation.html" class="btn btn-neutral" title="Pré-requis et installation du framework" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Madeline VEYRENC.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>